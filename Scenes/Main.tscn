[gd_scene load_steps=13 format=2]

[ext_resource path="res://PlatformTiles.tres" type="TileSet" id=1]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scripts/EnemySpawner.gd" type="Script" id=3]
[ext_resource path="res://Scripts/HUD.gd" type="Script" id=4]
[ext_resource path="res://Scripts/Main.gd" type="Script" id=5]
[ext_resource path="res://Scenes/Bat.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/HalfDissapearingPlatform.tscn" type="PackedScene" id=7]
[ext_resource path="res://Sounds/GamePlayTowerValor.ogg" type="AudioStream" id=8]
[ext_resource path="res://Scripts/AudioStreamPlayer.gd" type="Script" id=9]
[ext_resource path="res://Scenes/HorizontalMovingPlatform.tscn" type="PackedScene" id=10]
[ext_resource path="res://Scenes/VerticalMovingPlatform.tscn" type="PackedScene" id=11]

[sub_resource type="GDScript" id=1]
script/source = "extends TileMap


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[node name="Main" type="Node2D"]
script = ExtResource( 5 )

[node name="PlatformTileMap" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 8, 8 )
cell_quadrant_size = 8
collision_layer = 4
collision_mask = 11
format = 1
tile_data = PoolIntArray( 65535, 2, 0, 0, 2, 0, 31, 2, 0, 32, 2, 0, 131071, 2, 0, 65536, 2, 0, 65567, 2, 0, 65568, 2, 0, 196607, 2, 0, 131072, 2, 0, 131103, 2, 0, 131104, 2, 0, 262143, 2, 0, 196608, 2, 0, 196639, 2, 0, 196640, 2, 0, 327679, 2, 0, 262144, 2, 0, 262175, 2, 0, 262176, 2, 0, 393215, 2, 0, 327680, 2, 0, 327711, 2, 0, 327712, 2, 0, 458751, 2, 0, 393216, 2, 0, 393247, 2, 0, 393248, 2, 0, 524287, 2, 0, 458752, 2, 0, 458783, 2, 0, 458784, 2, 0, 589823, 2, 0, 524288, 2, 0, 524319, 2, 0, 524320, 2, 0, 655359, 2, 0, 589824, 2, 0, 589855, 2, 0, 589856, 2, 0, 720895, 2, 0, 655360, 2, 0, 655391, 2, 0, 655392, 2, 0, 786431, 2, 0, 720896, 2, 0, 720927, 2, 0, 720928, 2, 0, 851967, 2, 0, 786432, 2, 0, 786433, 3, 0, 786434, 3, 0, 786435, 3, 0, 786436, 6, 0, 786437, 6, 0, 786438, 6, 0, 786446, 6, 0, 786447, 6, 0, 786463, 2, 0, 786464, 2, 0, 917503, 2, 0, 851968, 2, 0, 851976, 6, 0, 851977, 6, 0, 851999, 2, 0, 852000, 2, 0, 983039, 2, 0, 917504, 2, 0, 917515, 3, 0, 917516, 3, 0, 917535, 2, 0, 917536, 2, 0, 1048575, 2, 0, 983040, 2, 0, 983041, 3, 0, 983042, 3, 0, 983043, 3, 0, 983044, 3, 0, 983045, 3, 0, 983046, 3, 0, 983047, 2, 0, 983048, 5, 0, 983049, 3, 0, 983050, 2, 0, 983051, 3, 0, 983052, 3, 0, 983053, 5, 0, 983054, 5, 0, 983055, 4, 0, 983056, 4, 0, 983057, 4, 0, 983058, 3, 0, 983059, 3, 0, 983071, 2, 0, 983072, 2, 0, 1114111, 2, 0, 1048576, 2, 0, 1048607, 2, 0, 1048608, 2, 0, 1179647, 2, 0, 1114112, 2, 0, 1114143, 2, 0, 1114144, 2, 0, 1245183, 2, 0, 1179648, 2, 0, 1179679, 2, 0, 1179680, 2, 0 )
script = SubResource( 1 )

[node name="DissapearingPlatforms" type="Node2D" parent="PlatformTileMap"]

[node name="HalfDissapearing" parent="PlatformTileMap/DissapearingPlatforms" instance=ExtResource( 7 )]
position = Vector2( 48, 80 )

[node name="HalfDissapearing2" parent="PlatformTileMap/DissapearingPlatforms" instance=ExtResource( 7 )]
position = Vector2( 64, 72 )

[node name="HalfDissapearing3" parent="PlatformTileMap/DissapearingPlatforms" instance=ExtResource( 7 )]
position = Vector2( 80, 64 )

[node name="HorizontalMovingPlatforms" type="Node2D" parent="PlatformTileMap"]

[node name="HorizontalMovingPlatform" parent="PlatformTileMap/HorizontalMovingPlatforms" instance=ExtResource( 10 )]
position = Vector2( 80, 96 )
dir = Vector2( -1, 0 )

[node name="HorizontalMovingPlatform2" parent="PlatformTileMap/HorizontalMovingPlatforms" instance=ExtResource( 10 )]
position = Vector2( 112, 80 )
speed = 15
dir = Vector2( 1, 0 )

[node name="VerticalMovingPlatforms" type="Node2D" parent="PlatformTileMap"]

[node name="VerticalMovingPlatform" parent="PlatformTileMap/VerticalMovingPlatforms" instance=ExtResource( 11 )]
position = Vector2( 96, 72 )
dir = Vector2( 0, 1 )

[node name="VerticalMovingPlatform2" parent="PlatformTileMap/VerticalMovingPlatforms" instance=ExtResource( 11 )]
position = Vector2( 144, 96 )
dir = Vector2( 0, -1 )

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0
current = true
zoom = Vector2( 0.25, 0.25 )

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 24, 88 )
collision_mask = 2147483648
motion/sync_to_physics = false

[node name="EnemySpawner" type="Node2D" parent="."]
script = ExtResource( 3 )
Bat = ExtResource( 6 )

[node name="Position2D" type="Position2D" parent="EnemySpawner"]
position = Vector2( 128, 88 )

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource( 4 )

[node name="Lives1" type="Label" parent="HUD"]
margin_right = 40.0
margin_bottom = 14.0
text = "HP: 3"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Bat5" parent="." instance=ExtResource( 6 )]
position = Vector2( 160, 88 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 8 )
script = ExtResource( 9 )
[connection signal="update_health" from="Player" to="HUD" method="_on_Player_update_health"]
